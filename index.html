<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Hmyziště - hra</title>
<meta name="viewport" content="width=device-width" />
<meta name="author" content="Drahoslav Bednář, Draho.cz" />
<meta name="application-name" content="Hmyziště" />
<meta name="description" content="Bezdesková hmyzí deskovka. Abstraktní strategická hra pro dva, založená na hře Hive." />
<meta name="keywords" content="Hive, hmyziště, hra, deskovka, multiplayer, hexagon" />
<link rel="icon" href="/img/favicon.png" />
<style>
@import url('https://fonts.googleapis.com/css?family=Titan+One&subset=latin-ext');
@font-face {
  font-family: "emoji-symbols";
  src:
    url("font/Symbola.woff") format("woff"),
    url("font/Symbola.ttf") format("truetype");
}
body, html {
  margin: 0;
  display: flex;
  overflow: hidden;
}
body {
  position: relative;
  background: #111 url(img/noise.png);
  transition: background .5s ease-in-out;
}
body.dark {
  background-color: rgba(128, 128, 128, 0.94);
}
canvas {
  display: block;
  margin: auto;
  -webkit-tap-highlight-color: transparent; /* prevents blue blinking on touchsceen in chrome for android */
}
a {
  color: #4b99bf;
}
.emoji{
   display: none;
  font-size: 50px;
  font-family: emoji-symbols;
}
#loader{
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 50px;
  color: #888;
  z-index: -1;
}
@media only screen and (min-width: 600px) {
  #loader {
    width: 100vw;
    height: 100vh;
  }
}
.drawer {
  position: absolute;
  width: 500px;
  max-width: 100%;
  height: 100%;
  right: -500px;
  transition: all .5s ease-in-out;
  background: #fcfcf8;
  font-family: sans-serif;
  overflow: hidden;
  opacity: 0.95;
  box-shadow: 4px 0 8px;
}
.drawer.show {
  right: 0;
  box-shadow: 0px 0 16px;
}
.content {
  background: url('/img/dark-stripes-light.png');
  box-sizing: border-box;
  font-size: 16px;
  padding: .3rem 1.5rem;
  color: #333;
  height: 100%;
  overflow: auto;
}
.content i {
  font-family: emoji-symbols;
  font-size: 150%;
  font-style: normal;
  display: inline-block;
  width: 1.1em;
}
.content i img {
  width: 65%;
}
.close {
  float: left;
  width: 28px;
  height: 100%;
  background-image: url('/img/rubber-grip.png');
  color: #353535;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 32pt;
  text-shadow: 1px 1px 1px #eee;
  box-shadow: 1px 0px 1px #888;
}
.close:hover {
  background-color: #eee;
}

h2, h3 {
  font-family: 'Titan one';
  font-weight: normal;
}
h2 i {
  font-weight: bold;
}

::-webkit-scrollbar {
  width: 12px;
}
::-webkit-scrollbar-track {
}
::-webkit-scrollbar-thumb {
  border-radius: 10px;
  background: rgba(152, 152, 152, .5);;
}

fieldset {
  display: flex;
  flex-direction: column;
  margin: 0rem 0;
  border: none;
}
legend {
  margin: 0 0 0 0;
}
legend h3 {
  margin: 0.75em 0 0.5em;
}
label {
  cursor: pointer;
  opacity: .6;
  height: 1.5rem;
  vertical-align: middle;
  font-weight: bolder;
}
label::before {
  content: ' ';
  display: inline-block;
  width: 1rem;
  font-size: 120%;
}
label:hover,
input[type=radio]:checked + label {
  opacity: 0.9;
}
input[type=radio]:checked + label::before {
  content: '✔';
}
input[type=radio] {
  width: 16px;
  height: 16px;
  display: none;
}

#chat {
  font-weight: bold;
  font-family: sans-serif;
  position: absolute;
  bottom: 100px;
  top: 100px;
  left: 0px;
  width: 5rem;
  background: rgba(238, 238, 238, 0.0);
  transition: all 0.2s ease;
  padding: .5rem;
  display: flex;
  flex-direction: column;
  border-radius: 0 5px 5px 0;
}
#chat.disabled {
  display: none;
}
#chat:hover, #chat.visible {
  background: rgba(238, 238, 238, 0.5);
  width: 25rem;
}
.chat-log-wrapper {
  flex-grow: 1;
  padding: 0 .25rem .5rem;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  position: relative;
  overflow: hidden;
}
#chat-log {
  font-size: .8rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  position: absolute;
  width: 100%;
  bottom: .5em;
  line-height: 1.75em;
}
#chat-input {
  font-weight: bold;
  font-family: sans-serif;
  border: none;
  outline: none;
  border-radius: 3px;
  height: 1.75rem;
  line-height: 1.75rem;
  background: #eee;
  padding: 0 .25rem;
  white-space: nowrap;
}
#chat-input:invalid {
  background: transparent;
}
#chat:hover #chat-input, #chat-input:focus {
  background: #eeee;
}
#footer {
  display: none;
  position: absolute;
  bottom: 0;
  right: 0;
  color: white;
  font-size: 19pt;
  font-family: arial;
  cursor: pointer;
  padding: .1em .3em;
}
#footer.visible {
  display: block;
}
.dark #footer {
  display: none;
}
</style>
</head>
<body>
  <div class="emoji">
    🐜🕷️🦗🐞🐝👤🔗🌐👽💻🖳🖥🤖
    🔄🔃
  </div>
  <canvas id="hiveCanvas" width="685" height="auto">
  </canvas>
  <div id="loader">🕛</div>
  <div id="chat" class="disabled">
    <div class="chat-log-wrapper">
      <div id="chat-log"></div>
    </div>
    <input type="text" id="chat-input" autocomplete="off" required />
  </div>
  <div id="help" class="drawer">
    <div class="close">›</div>
    <div class="content" v-if="lang === 'cs'" lang="cs">
      <!-- help content start -->
      <h2><i>❓</i>Pravidla</h2>
      <h3><i>🞋</i> Cíl</h3>
      <ul>
        <li>Cílem hry je obklopit ze všech šesti stran včelí královnu spoluhráče <i>🐝</i>.</li>
        <li>Nemusí to být jen vlastními kameny.</li>
      </ul>

      <h3><i>☯</i> Pravidlo jedné kolonie</h3>
      <ul>
        <li>Všechny vyložené kameny musí vždy tvořit jednotný, nedělitelný útvar.</li>
      </ul>

      <h3><i>⬊</i> Vykládání</h3>
      <ul>
        <li>Nové kameny můžeš umístit pouze do sousedství těch svých. První kámen umísti libovolně.</li>
        <li>Nové kameny nesmíš umístit do sousedství těch protihráčových. S výjimkou druhého tahu.</li>
        <li>Stejná pravidla pro všechny kameny.</li>
        <li>Královna musí být umístěna nejpozději ve 4. kole.</li>
      </ul>

      <h3><i>⬌</i> Přesouvání</h3>
      <ul>
        <li>Kameny můžeš přesouvat až poté, co umístíš královnu.</li>
        <li>Přesouváním kamenů nesmíš porušit pravidlo jedné kolonie <i>☯</i>, a to po celou dobu přesunu.</li>

        <li>Různé kameny mají různá pravidla pohybu:</li>
          <i>🐜</i> Mravenec:
          <ul>
            <li>může se přesunout na libovolné místo dostupné po obvodu</li>
            <li>nejmocnější kámen ve hře</li>
          </ul>
          <i>🕷️</i> Pavouk:
          <ul>
            <li>může se přesunout na 3 kroky vzdálené místo dostupné po obvodu</li>
          </ul>
          <i>🐝</i> Včelí královna:
          <ul>
            <li>může se pohybovat jen o 1 krok</li>
          </ul>
          <i>🐞</i> Beruška:
          <ul>
            <li>může se pohybovat jen o 1 krok</li>
            <li>navíc může vlézt na jiný kámen, a tím ho zablokovat</li>
          </ul>
          <i>🦗</i> Kobylka:
          <ul>
            <li>může přeskočit rovně přes jedno, či více obsazených políček</li>
          </ul>
      </ul>

      <h3><i>⚠</i> Volnost pohybu</h3>
      <ul>
        <li>Kameny nelze vmáčknout tam, kam se fyzicky neprocpou při posunu po zemi.</li>
        <li>Neplatí pro:</li>
        <ul>
            <li>vykládání <i>⬊</i>,</li>
            <li>kobylku, která skáče, a</li>
            <li>berušku, když slézá.</li>
        </ul>

      </ul>
      <!-- help content end -->
    </div>
    <div class="content" v-if="lang === 'en'" lang="en">
        <!-- help content start -->
        <h2><i>❓</i>Rules</h2>
        <h3><i>🞋</i> Target</h3>
        <ul>
          <li>The objection of the game is to surround the Bee queen <i>🐝</i> of your opponent from all six sides.</li>
          <li>Those do not have to be only by your own stones.</li>
        </ul>

        <h3><i>☯</i> One hive rule</h3>
        <ul>
          <li>All placed stones have to be always interconnected into one single unbreakable group - the hive.</li>
        </ul>

        <h3><i>⬊</i> Placing</h3>
        <ul>
          <li>New stones can only be placed in the neighborhood of your own stones. First stone can be placed arbitrarily.</li>
          <li>New stones can not be placed in the neighborhood of your enemies stones. The exception is a second round.</li>
          <li>These rules apply to all types of the stones.</li>
          <li>Queen must be placed no later than the fourth round of the game.</li>
        </ul>

        <h3><i>⬌</i> Moving</h3>
        <ul>
          <li>You can only move the stones after you place the queen.</li>
          <li>By moving the stones you must not break the One hive rule <i>☯</i>, for the entire duration of the movement.</li>

          <li>Different stones have different rules of movement:</li>
            <i>🐜</i> Ant:
            <ul>
              <li>can move to any location around the perimeter</li>
              <li>the most valuable creature in the game</li>
            </ul>
            <i>🕷️</i> Spider:
            <ul>
              <li>can move to a 3-step distant location accessible around the perimeter</li>
            </ul>
            <i>🐝</i> Bee queen:
            <ul>
              <li>can only move 1 step</li>
            </ul>
            <i>🐞</i> Ladybug:
            <ul>
              <li>can only move 1 step</li>
              <li>and can climb on top of another stone to block it</li>
            </ul>
            <i>🦗</i> Grasshopper:
            <ul>
              <li>can jump straight through one or more occupied fields</li>
            </ul>
        </ul>

        <h3><i>⚠</i> Freedom of movement</h3>
        <ul>
          <li>Stones cannot be squeezed to places where they do not physically fit by sliding on the ground.</li>
          <li>Exceptions:</li>
          <ul>
              <li>Placing <i>⬊</i></li>
              <li>Grasshopper - it jumps</li>
              <li>Ladybug - when climbing down</li>
          </ul>

        </ul>
        <!-- help content end -->
      </div>
  </div>
  <div id="settings" class="drawer">
    <div class="close">›</div>
    <div class="content">
      <h2><i>⚙</i>{{ 'Settings', 'Nastavení' |_ }}</h2>
      <fieldset>
        <legend><h3>{{ 'Music', 'Hudba' |_ }}</h3></legend>
        <input type="radio" value="on" id="music-on" v-model="music" />
        <label for="music-on">
          &ensp;&nbsp;<i>♪</i> &emsp; {{ 'On', 'Zapnutá' |_}}
        </label>
        <input type="radio" value="off" id="music-off" v-model="music" />
        <label for="music-off">
          &ensp;&nbsp;<i><s>♪</s></i> &emsp; {{ 'Off', 'Vypnutá' |_}}
        </label>
      </fieldset>
      <fieldset>
        <legend><h3>{{ 'Sounds', 'Zvuky' |_ }}</h3></legend>
        <input type="radio" value="on" id="sound-on" v-model="sound" />
        <label for="sound-on">
          &ensp;&nbsp;<i>🔊</i> &emsp; {{ 'On', 'Zapnuté' |_}}
        </label>
        <input type="radio" value="off" id="sound-off" v-model="sound" />
        <label for="sound-off">
          &ensp;&nbsp;<i>🔈</i> &emsp; {{ 'Off', 'Vypnuté' |_}}
        </label>
      </fieldset>
      <fieldset>
        <legend><h3>{{ 'Language', 'Jazyk' |_ }}</h3></legend>
        <input type="radio" value="cs" id="lang-cs" v-model="lang" />
        <label for="lang-cs">
          &ensp;&nbsp;<i><img src="/img/cs.png"/></i> &emsp; {{ 'Czech', 'Čeština' |_}}
        </label>
        <input type="radio" value="en" id="lang-en" v-model="lang" />
        <label for="lang-en">
          &ensp;&nbsp;<i><img src="/img/en-GB.png"/></i> &emsp; {{ 'English', 'Angličtina' |_}}
        </label>
      </fieldset>
      <fieldset>
        <legend><h3>{{ 'Color', 'Barva' |_ }}</h3></legend>
        <input type="radio" value="black" id="color-black" v-model="color" />
        <label for="color-black">
          &ensp;&nbsp;<i>⚫</i> &emsp; {{ 'Black', 'Černá' |_}}
        </label>
        <input type="radio" value="white" id="color-white" v-model="color" />
        <label for="color-white">
          &ensp;&nbsp;<i>⚪</i> &emsp; {{ 'White', 'Bílá' |_}}
        </label>
      </fieldset>
      <fieldset>
        <legend><h3>{{ 'Animations', 'Animace' |_ }}</h3></legend>
        <input type="radio" value="60" id="fps-h" v-model="fps" />
        <label for="fps-h">
          &ensp;&nbsp;<i>🐇</i> &emsp; {{ 'Nice & smooth', 'Hezky plynulé' |_}} (60 fps)
        </label>
        <input type="radio" value="12" id="fps-l" v-model="fps" />
        <label for="fps-l">
          &ensp;&nbsp;<i>🐌</i> &emsp; {{ 'Battery saving', 'Šetřící baterii' |_}} (12 fps)
        </label>
      </fieldset>
    </div>
  </div>
  <div id="about" class="drawer">
    <div class="close">›</div>
    <div class="content">
      <h2><i>🐝</i>{{ 'Hmyz.it', 'Hmyziště' |_}}</h2>
      <div>
        © 2019
      </div>
      <h3>{{ 'Game design & impelementation', 'Design a implementace' |_}}</h3>
      <div>
        <strong>Drahoslav Bednář</strong> (<a href="https://draho.cz" target="_blank">draho.cz</a>)
      </div>
      <div>
        <h3>{{ 'Music', 'Hudba' |_}}</h3>
        <p v-if="lang === 'en'">
          Main menu: <strong>Relaxing Piano Music</strong><br/>
          Waiting: <strong>Leopard Print Elevator</strong><br/>
          Multiplayer: <strong>Unwritten Return</strong><br/>
          Singleplayer: <strong>Beauty Flow</strong><br/>
          Training: <strong>Fretless</strong><br/>
          Demonstration: <strong>Severe Tire Damage</strong><br/>
        </p>
        <p v-if="lang === 'cs'">
          Hlavní menu: <strong>Relaxing Piano Music</strong><br/>
          Čekání na hráče: <strong>Leopard Print Elevator</strong><br/>
          Hra s někým: <strong>Unwritten Return</strong><br/>
          Proti hře: <strong>Beauty Flow</strong><br/>
          Trénink: <strong>Fretless</strong><br/>
          Ukázka: <strong>Severe Tire Damage</strong><br/>
        </p>
        <p v-if="lang === 'en'">
          All by <strong>Kevin MacLeod</strong> (<a href="https://incompetech.com" target="_blank">incompetech.com</a>)<br />
          License: <a href="http://creativecommons.org/licenses/by/3.0/" target="_blank">Creative Commons: By Attribution 3.0</a>
        </p>
        <p v-if="lang === 'cs'">
          Vše od <strong>Kevin MacLeod</strong> (<a href="https://incompetech.com" target="_blank">incompetech.com</a>)<br />
          Licence: <a href="http://creativecommons.org/licenses/by/3.0/" target="_blank">Creative Commons: By Attribution 3.0</a>
        </p>
        <h3>{{ 'Fonts', 'Písma' |_}}</h3>
        <p v-if="lang === 'en'">
          Icons: <strong>Symbola</strong> by <strong>George Douros</strong><br/>
          License: <a href="http://users.teilar.gr/~g1951d/" target="_blank">Freeware</a>
        </p>
        <p v-if="lang === 'cs'">
          Ikonky: <strong>Symbola</strong> od <strong>George Douros</strong><br/>
          Licence: <a href="http://users.teilar.gr/~g1951d/" target="_blank">Freeware</a>
        </p>
        <p v-if="lang === 'en'">
          Headlines: <strong>Titan One</strong> by <strong>Rodrigo Fuenzalida</strong><br/>
          License: <a href="http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&id=OFL_web" target="_blank">Open Font License</a>
        </p>
        <p v-if="lang === 'cs'">
          Nadpisy: <strong>Titan One</strong> od <strong>Rodrigo Fuenzalida</strong><br/>
          Licence: <a href="http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&id=OFL_web" target="_blank">Open Font License</a>
        </p>
        <h3>{{ 'Concept', 'Koncept' |_}}</h3>
        <p v-if="lang === 'en'">
          Highly inspired by table-top game <strong>Hive</strong><br/>
          designed by <strong>John Yianni</strong><br/>
          published in 2001 by <strong>Gen42 Games</strong><br/>
        </p>
        <p v-if="lang === 'cs'">
          Silně inspirováno stolní hrou <strong>Hive</strong><br/>
          kterou vytvořil <strong>John Yianni</strong><br/>
          a v roce 2001 publikovalo <strong>Gen42 Games</strong><br/>
        </p>
      </div>
    </div>
  </div>
  <span id="footer">©</span>
  <script>
  if (window.parent === window && !window.location.origin.match('localhost')) {
    window.location = 'https://hmyz.it/' + window.location.hash
  }
  </script>
  <script src="lib/vue.js"></script>
  <script src="lib/socket.io.js"></script>
  <script src="lib/Tone.js"></script>
  <script type="module" src="src/hive.js"></script>
  <script nomodule src="hive-bundle.js"></script>
</body>
</html>
html>
